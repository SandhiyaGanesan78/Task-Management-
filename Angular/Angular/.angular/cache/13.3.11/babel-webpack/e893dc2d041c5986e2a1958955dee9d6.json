{"ast":null,"code":"/**\n * @license Angular v13.4.0\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { LocationStrategy } from '@angular/common';\nimport { Subject } from 'rxjs';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Joins two parts of a URL with a slash if needed.\n *\n * @param start  URL string\n * @param end    URL string\n *\n *\n * @returns The joined URL string.\n */\nfunction joinWithSlash(start, end) {\n  if (start.length == 0) {\n    return end;\n  }\n  if (end.length == 0) {\n    return start;\n  }\n  let slashes = 0;\n  if (start.endsWith('/')) {\n    slashes++;\n  }\n  if (end.startsWith('/')) {\n    slashes++;\n  }\n  if (slashes == 2) {\n    return start + end.substring(1);\n  }\n  if (slashes == 1) {\n    return start + end;\n  }\n  return start + '/' + end;\n}\n/**\n * Removes a trailing slash from a URL string if needed.\n * Looks for the first occurrence of either `#`, `?`, or the end of the\n * line as `/` characters and removes the trailing slash if one exists.\n *\n * @param url URL string.\n *\n * @returns The URL string, modified if needed.\n */\nfunction stripTrailingSlash(url) {\n  const match = url.match(/#|\\?|$/);\n  const pathEndIdx = match && match.index || url.length;\n  const droppedSlashIdx = pathEndIdx - (url[pathEndIdx - 1] === '/' ? 1 : 0);\n  return url.slice(0, droppedSlashIdx) + url.slice(pathEndIdx);\n}\n/**\n * Normalizes URL parameters by prepending with `?` if needed.\n *\n * @param  params String of URL parameters.\n *\n * @returns The normalized URL parameters string.\n */\nfunction normalizeQueryParams(params) {\n  return params && params[0] !== '?' ? '?' + params : params;\n}\n\n/**\n * A spy for {@link Location} that allows tests to fire simulated location events.\n *\n * @publicApi\n */\nclass SpyLocation {\n  constructor() {\n    this.urlChanges = [];\n    this._history = [new LocationState('', '', null)];\n    this._historyIndex = 0;\n    /** @internal */\n    this._subject = new EventEmitter();\n    /** @internal */\n    this._baseHref = '';\n    /** @internal */\n    this._platformStrategy = null;\n    /** @internal */\n    this._platformLocation = null;\n    /** @internal */\n    this._urlChangeListeners = [];\n  }\n  setInitialPath(url) {\n    this._history[this._historyIndex].path = url;\n  }\n  setBaseHref(url) {\n    this._baseHref = url;\n  }\n  path() {\n    return this._history[this._historyIndex].path;\n  }\n  getState() {\n    return this._history[this._historyIndex].state;\n  }\n  isCurrentPathEqualTo(path, query = '') {\n    const givenPath = path.endsWith('/') ? path.substring(0, path.length - 1) : path;\n    const currPath = this.path().endsWith('/') ? this.path().substring(0, this.path().length - 1) : this.path();\n    return currPath == givenPath + (query.length > 0 ? '?' + query : '');\n  }\n  simulateUrlPop(pathname) {\n    this._subject.emit({\n      'url': pathname,\n      'pop': true,\n      'type': 'popstate'\n    });\n  }\n  simulateHashChange(pathname) {\n    const path = this.prepareExternalUrl(pathname);\n    this.pushHistory(path, '', null);\n    this.urlChanges.push('hash: ' + pathname);\n    // the browser will automatically fire popstate event before each `hashchange` event, so we need\n    // to simulate it.\n    this._subject.emit({\n      'url': pathname,\n      'pop': true,\n      'type': 'popstate'\n    });\n    this._subject.emit({\n      'url': pathname,\n      'pop': true,\n      'type': 'hashchange'\n    });\n  }\n  prepareExternalUrl(url) {\n    if (url.length > 0 && !url.startsWith('/')) {\n      url = '/' + url;\n    }\n    return this._baseHref + url;\n  }\n  go(path, query = '', state = null) {\n    path = this.prepareExternalUrl(path);\n    this.pushHistory(path, query, state);\n    const locationState = this._history[this._historyIndex - 1];\n    if (locationState.path == path && locationState.query == query) {\n      return;\n    }\n    const url = path + (query.length > 0 ? '?' + query : '');\n    this.urlChanges.push(url);\n    this._notifyUrlChangeListeners(path + normalizeQueryParams(query), state);\n  }\n  replaceState(path, query = '', state = null) {\n    path = this.prepareExternalUrl(path);\n    const history = this._history[this._historyIndex];\n    if (history.path == path && history.query == query) {\n      return;\n    }\n    history.path = path;\n    history.query = query;\n    history.state = state;\n    const url = path + (query.length > 0 ? '?' + query : '');\n    this.urlChanges.push('replace: ' + url);\n    this._notifyUrlChangeListeners(path + normalizeQueryParams(query), state);\n  }\n  forward() {\n    if (this._historyIndex < this._history.length - 1) {\n      this._historyIndex++;\n      this._subject.emit({\n        'url': this.path(),\n        'state': this.getState(),\n        'pop': true,\n        'type': 'popstate'\n      });\n    }\n  }\n  back() {\n    if (this._historyIndex > 0) {\n      this._historyIndex--;\n      this._subject.emit({\n        'url': this.path(),\n        'state': this.getState(),\n        'pop': true,\n        'type': 'popstate'\n      });\n    }\n  }\n  historyGo(relativePosition = 0) {\n    const nextPageIndex = this._historyIndex + relativePosition;\n    if (nextPageIndex >= 0 && nextPageIndex < this._history.length) {\n      this._historyIndex = nextPageIndex;\n      this._subject.emit({\n        'url': this.path(),\n        'state': this.getState(),\n        'pop': true,\n        'type': 'popstate'\n      });\n    }\n  }\n  onUrlChange(fn) {\n    this._urlChangeListeners.push(fn);\n    if (!this._urlChangeSubscription) {\n      this._urlChangeSubscription = this.subscribe(v => {\n        this._notifyUrlChangeListeners(v.url, v.state);\n      });\n    }\n  }\n  /** @internal */\n  _notifyUrlChangeListeners(url = '', state) {\n    this._urlChangeListeners.forEach(fn => fn(url, state));\n  }\n  subscribe(onNext, onThrow, onReturn) {\n    return this._subject.subscribe({\n      next: onNext,\n      error: onThrow,\n      complete: onReturn\n    });\n  }\n  normalize(url) {\n    return null;\n  }\n  pushHistory(path, query, state) {\n    if (this._historyIndex > 0) {\n      this._history.splice(this._historyIndex + 1);\n    }\n    this._history.push(new LocationState(path, query, state));\n    this._historyIndex = this._history.length - 1;\n  }\n}\nSpyLocation.ɵfac = function SpyLocation_Factory(t) {\n  return new (t || SpyLocation)();\n};\nSpyLocation.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: SpyLocation,\n  factory: SpyLocation.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SpyLocation, [{\n    type: Injectable\n  }], null, null);\n})();\nclass LocationState {\n  constructor(path, query, state) {\n    this.path = path;\n    this.query = query;\n    this.state = state;\n  }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A mock implementation of {@link LocationStrategy} that allows tests to fire simulated\n * location events.\n *\n * @publicApi\n */\nclass MockLocationStrategy extends LocationStrategy {\n  constructor() {\n    super();\n    this.internalBaseHref = '/';\n    this.internalPath = '/';\n    this.internalTitle = '';\n    this.urlChanges = [];\n    /** @internal */\n    this._subject = new EventEmitter();\n    this.stateChanges = [];\n  }\n  simulatePopState(url) {\n    this.internalPath = url;\n    this._subject.emit(new _MockPopStateEvent(this.path()));\n  }\n  path(includeHash = false) {\n    return this.internalPath;\n  }\n  prepareExternalUrl(internal) {\n    if (internal.startsWith('/') && this.internalBaseHref.endsWith('/')) {\n      return this.internalBaseHref + internal.substring(1);\n    }\n    return this.internalBaseHref + internal;\n  }\n  pushState(ctx, title, path, query) {\n    // Add state change to changes array\n    this.stateChanges.push(ctx);\n    this.internalTitle = title;\n    const url = path + (query.length > 0 ? '?' + query : '');\n    this.internalPath = url;\n    const externalUrl = this.prepareExternalUrl(url);\n    this.urlChanges.push(externalUrl);\n  }\n  replaceState(ctx, title, path, query) {\n    // Reset the last index of stateChanges to the ctx (state) object\n    this.stateChanges[(this.stateChanges.length || 1) - 1] = ctx;\n    this.internalTitle = title;\n    const url = path + (query.length > 0 ? '?' + query : '');\n    this.internalPath = url;\n    const externalUrl = this.prepareExternalUrl(url);\n    this.urlChanges.push('replace: ' + externalUrl);\n  }\n  onPopState(fn) {\n    this._subject.subscribe({\n      next: fn\n    });\n  }\n  getBaseHref() {\n    return this.internalBaseHref;\n  }\n  back() {\n    if (this.urlChanges.length > 0) {\n      this.urlChanges.pop();\n      this.stateChanges.pop();\n      const nextUrl = this.urlChanges.length > 0 ? this.urlChanges[this.urlChanges.length - 1] : '';\n      this.simulatePopState(nextUrl);\n    }\n  }\n  forward() {\n    throw 'not implemented';\n  }\n  getState() {\n    return this.stateChanges[(this.stateChanges.length || 1) - 1];\n  }\n}\nMockLocationStrategy.ɵfac = function MockLocationStrategy_Factory(t) {\n  return new (t || MockLocationStrategy)();\n};\nMockLocationStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MockLocationStrategy,\n  factory: MockLocationStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MockLocationStrategy, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\nclass _MockPopStateEvent {\n  constructor(newUrl) {\n    this.newUrl = newUrl;\n    this.pop = true;\n    this.type = 'popstate';\n  }\n}\n\n/**\n * Parser from https://tools.ietf.org/html/rfc3986#appendix-B\n * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n *  12            3  4          5       6  7        8 9\n *\n * Example: http://www.ics.uci.edu/pub/ietf/uri/#Related\n *\n * Results in:\n *\n * $1 = http:\n * $2 = http\n * $3 = //www.ics.uci.edu\n * $4 = www.ics.uci.edu\n * $5 = /pub/ietf/uri/\n * $6 = <undefined>\n * $7 = <undefined>\n * $8 = #Related\n * $9 = Related\n */\nconst urlParse = /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\nfunction parseUrl(urlStr, baseHref) {\n  const verifyProtocol = /^((http[s]?|ftp):\\/\\/)/;\n  let serverBase;\n  // URL class requires full URL. If the URL string doesn't start with protocol, we need to add\n  // an arbitrary base URL which can be removed afterward.\n  if (!verifyProtocol.test(urlStr)) {\n    serverBase = 'http://empty.com/';\n  }\n  let parsedUrl;\n  try {\n    parsedUrl = new URL(urlStr, serverBase);\n  } catch (e) {\n    const result = urlParse.exec(serverBase || '' + urlStr);\n    if (!result) {\n      throw new Error(`Invalid URL: ${urlStr} with base: ${baseHref}`);\n    }\n    const hostSplit = result[4].split(':');\n    parsedUrl = {\n      protocol: result[1],\n      hostname: hostSplit[0],\n      port: hostSplit[1] || '',\n      pathname: result[5],\n      search: result[6],\n      hash: result[8]\n    };\n  }\n  if (parsedUrl.pathname && parsedUrl.pathname.indexOf(baseHref) === 0) {\n    parsedUrl.pathname = parsedUrl.pathname.substring(baseHref.length);\n  }\n  return {\n    hostname: !serverBase && parsedUrl.hostname || '',\n    protocol: !serverBase && parsedUrl.protocol || '',\n    port: !serverBase && parsedUrl.port || '',\n    pathname: parsedUrl.pathname || '/',\n    search: parsedUrl.search || '',\n    hash: parsedUrl.hash || ''\n  };\n}\n/**\n * Provider for mock platform location config\n *\n * @publicApi\n */\nconst MOCK_PLATFORM_LOCATION_CONFIG = new InjectionToken('MOCK_PLATFORM_LOCATION_CONFIG');\n/**\n * Mock implementation of URL state.\n *\n * @publicApi\n */\nclass MockPlatformLocation {\n  constructor(config) {\n    this.baseHref = '';\n    this.hashUpdate = new Subject();\n    this.urlChangeIndex = 0;\n    this.urlChanges = [{\n      hostname: '',\n      protocol: '',\n      port: '',\n      pathname: '/',\n      search: '',\n      hash: '',\n      state: null\n    }];\n    if (config) {\n      this.baseHref = config.appBaseHref || '';\n      const parsedChanges = this.parseChanges(null, config.startUrl || 'http://_empty_/', this.baseHref);\n      this.urlChanges[0] = Object.assign({}, parsedChanges);\n    }\n  }\n  get hostname() {\n    return this.urlChanges[this.urlChangeIndex].hostname;\n  }\n  get protocol() {\n    return this.urlChanges[this.urlChangeIndex].protocol;\n  }\n  get port() {\n    return this.urlChanges[this.urlChangeIndex].port;\n  }\n  get pathname() {\n    return this.urlChanges[this.urlChangeIndex].pathname;\n  }\n  get search() {\n    return this.urlChanges[this.urlChangeIndex].search;\n  }\n  get hash() {\n    return this.urlChanges[this.urlChangeIndex].hash;\n  }\n  get state() {\n    return this.urlChanges[this.urlChangeIndex].state;\n  }\n  getBaseHrefFromDOM() {\n    return this.baseHref;\n  }\n  onPopState(fn) {\n    // No-op: a state stack is not implemented, so\n    // no events will ever come.\n    return () => {};\n  }\n  onHashChange(fn) {\n    const subscription = this.hashUpdate.subscribe(fn);\n    return () => subscription.unsubscribe();\n  }\n  get href() {\n    let url = `${this.protocol}//${this.hostname}${this.port ? ':' + this.port : ''}`;\n    url += `${this.pathname === '/' ? '' : this.pathname}${this.search}${this.hash}`;\n    return url;\n  }\n  get url() {\n    return `${this.pathname}${this.search}${this.hash}`;\n  }\n  parseChanges(state, url, baseHref = '') {\n    // When the `history.state` value is stored, it is always copied.\n    state = JSON.parse(JSON.stringify(state));\n    return Object.assign(Object.assign({}, parseUrl(url, baseHref)), {\n      state\n    });\n  }\n  replaceState(state, title, newUrl) {\n    const {\n      pathname,\n      search,\n      state: parsedState,\n      hash\n    } = this.parseChanges(state, newUrl);\n    this.urlChanges[this.urlChangeIndex] = Object.assign(Object.assign({}, this.urlChanges[this.urlChangeIndex]), {\n      pathname,\n      search,\n      hash,\n      state: parsedState\n    });\n  }\n  pushState(state, title, newUrl) {\n    const {\n      pathname,\n      search,\n      state: parsedState,\n      hash\n    } = this.parseChanges(state, newUrl);\n    if (this.urlChangeIndex > 0) {\n      this.urlChanges.splice(this.urlChangeIndex + 1);\n    }\n    this.urlChanges.push(Object.assign(Object.assign({}, this.urlChanges[this.urlChangeIndex]), {\n      pathname,\n      search,\n      hash,\n      state: parsedState\n    }));\n    this.urlChangeIndex = this.urlChanges.length - 1;\n  }\n  forward() {\n    const oldUrl = this.url;\n    const oldHash = this.hash;\n    if (this.urlChangeIndex < this.urlChanges.length) {\n      this.urlChangeIndex++;\n    }\n    this.scheduleHashUpdate(oldHash, oldUrl);\n  }\n  back() {\n    const oldUrl = this.url;\n    const oldHash = this.hash;\n    if (this.urlChangeIndex > 0) {\n      this.urlChangeIndex--;\n    }\n    this.scheduleHashUpdate(oldHash, oldUrl);\n  }\n  historyGo(relativePosition = 0) {\n    const oldUrl = this.url;\n    const oldHash = this.hash;\n    const nextPageIndex = this.urlChangeIndex + relativePosition;\n    if (nextPageIndex >= 0 && nextPageIndex < this.urlChanges.length) {\n      this.urlChangeIndex = nextPageIndex;\n    }\n    this.scheduleHashUpdate(oldHash, oldUrl);\n  }\n  getState() {\n    return this.state;\n  }\n  scheduleHashUpdate(oldHash, oldUrl) {\n    if (oldHash !== this.hash) {\n      scheduleMicroTask(() => this.hashUpdate.next({\n        type: 'hashchange',\n        state: null,\n        oldUrl,\n        newUrl: this.url\n      }));\n    }\n  }\n}\nMockPlatformLocation.ɵfac = function MockPlatformLocation_Factory(t) {\n  return new (t || MockPlatformLocation)(i0.ɵɵinject(MOCK_PLATFORM_LOCATION_CONFIG, 8));\n};\nMockPlatformLocation.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MockPlatformLocation,\n  factory: MockPlatformLocation.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MockPlatformLocation, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [MOCK_PLATFORM_LOCATION_CONFIG]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\nfunction scheduleMicroTask(cb) {\n  Promise.resolve(null).then(cb);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MOCK_PLATFORM_LOCATION_CONFIG, MockLocationStrategy, MockPlatformLocation, SpyLocation };","map":{"version":3,"names":["i0","EventEmitter","Injectable","InjectionToken","Inject","Optional","LocationStrategy","Subject","joinWithSlash","start","end","length","slashes","endsWith","startsWith","substring","stripTrailingSlash","url","match","pathEndIdx","index","droppedSlashIdx","slice","normalizeQueryParams","params","SpyLocation","constructor","urlChanges","_history","LocationState","_historyIndex","_subject","_baseHref","_platformStrategy","_platformLocation","_urlChangeListeners","setInitialPath","path","setBaseHref","getState","state","isCurrentPathEqualTo","query","givenPath","currPath","simulateUrlPop","pathname","emit","simulateHashChange","prepareExternalUrl","pushHistory","push","go","locationState","_notifyUrlChangeListeners","replaceState","history","forward","back","historyGo","relativePosition","nextPageIndex","onUrlChange","fn","_urlChangeSubscription","subscribe","v","forEach","onNext","onThrow","onReturn","next","error","complete","normalize","splice","ɵfac","SpyLocation_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","ngDevMode","ɵsetClassMetadata","type","MockLocationStrategy","internalBaseHref","internalPath","internalTitle","stateChanges","simulatePopState","_MockPopStateEvent","includeHash","internal","pushState","ctx","title","externalUrl","onPopState","getBaseHref","pop","nextUrl","MockLocationStrategy_Factory","newUrl","urlParse","parseUrl","urlStr","baseHref","verifyProtocol","serverBase","test","parsedUrl","URL","e","result","exec","Error","hostSplit","split","protocol","hostname","port","search","hash","indexOf","MOCK_PLATFORM_LOCATION_CONFIG","MockPlatformLocation","config","hashUpdate","urlChangeIndex","appBaseHref","parsedChanges","parseChanges","startUrl","Object","assign","getBaseHrefFromDOM","onHashChange","subscription","unsubscribe","href","JSON","parse","stringify","parsedState","oldUrl","oldHash","scheduleHashUpdate","scheduleMicroTask","MockPlatformLocation_Factory","ɵɵinject","undefined","decorators","args","cb","Promise","resolve","then"],"sources":["C:/Users/sandhiya.ganesan/Desktop/sandhiya/Task/Angular/Angular/node_modules/@angular/common/fesm2015/testing.mjs"],"sourcesContent":["/**\n * @license Angular v13.4.0\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { LocationStrategy } from '@angular/common';\nimport { Subject } from 'rxjs';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Joins two parts of a URL with a slash if needed.\n *\n * @param start  URL string\n * @param end    URL string\n *\n *\n * @returns The joined URL string.\n */\nfunction joinWithSlash(start, end) {\n    if (start.length == 0) {\n        return end;\n    }\n    if (end.length == 0) {\n        return start;\n    }\n    let slashes = 0;\n    if (start.endsWith('/')) {\n        slashes++;\n    }\n    if (end.startsWith('/')) {\n        slashes++;\n    }\n    if (slashes == 2) {\n        return start + end.substring(1);\n    }\n    if (slashes == 1) {\n        return start + end;\n    }\n    return start + '/' + end;\n}\n/**\n * Removes a trailing slash from a URL string if needed.\n * Looks for the first occurrence of either `#`, `?`, or the end of the\n * line as `/` characters and removes the trailing slash if one exists.\n *\n * @param url URL string.\n *\n * @returns The URL string, modified if needed.\n */\nfunction stripTrailingSlash(url) {\n    const match = url.match(/#|\\?|$/);\n    const pathEndIdx = match && match.index || url.length;\n    const droppedSlashIdx = pathEndIdx - (url[pathEndIdx - 1] === '/' ? 1 : 0);\n    return url.slice(0, droppedSlashIdx) + url.slice(pathEndIdx);\n}\n/**\n * Normalizes URL parameters by prepending with `?` if needed.\n *\n * @param  params String of URL parameters.\n *\n * @returns The normalized URL parameters string.\n */\nfunction normalizeQueryParams(params) {\n    return params && params[0] !== '?' ? '?' + params : params;\n}\n\n/**\n * A spy for {@link Location} that allows tests to fire simulated location events.\n *\n * @publicApi\n */\nclass SpyLocation {\n    constructor() {\n        this.urlChanges = [];\n        this._history = [new LocationState('', '', null)];\n        this._historyIndex = 0;\n        /** @internal */\n        this._subject = new EventEmitter();\n        /** @internal */\n        this._baseHref = '';\n        /** @internal */\n        this._platformStrategy = null;\n        /** @internal */\n        this._platformLocation = null;\n        /** @internal */\n        this._urlChangeListeners = [];\n    }\n    setInitialPath(url) {\n        this._history[this._historyIndex].path = url;\n    }\n    setBaseHref(url) {\n        this._baseHref = url;\n    }\n    path() {\n        return this._history[this._historyIndex].path;\n    }\n    getState() {\n        return this._history[this._historyIndex].state;\n    }\n    isCurrentPathEqualTo(path, query = '') {\n        const givenPath = path.endsWith('/') ? path.substring(0, path.length - 1) : path;\n        const currPath = this.path().endsWith('/') ? this.path().substring(0, this.path().length - 1) : this.path();\n        return currPath == givenPath + (query.length > 0 ? ('?' + query) : '');\n    }\n    simulateUrlPop(pathname) {\n        this._subject.emit({ 'url': pathname, 'pop': true, 'type': 'popstate' });\n    }\n    simulateHashChange(pathname) {\n        const path = this.prepareExternalUrl(pathname);\n        this.pushHistory(path, '', null);\n        this.urlChanges.push('hash: ' + pathname);\n        // the browser will automatically fire popstate event before each `hashchange` event, so we need\n        // to simulate it.\n        this._subject.emit({ 'url': pathname, 'pop': true, 'type': 'popstate' });\n        this._subject.emit({ 'url': pathname, 'pop': true, 'type': 'hashchange' });\n    }\n    prepareExternalUrl(url) {\n        if (url.length > 0 && !url.startsWith('/')) {\n            url = '/' + url;\n        }\n        return this._baseHref + url;\n    }\n    go(path, query = '', state = null) {\n        path = this.prepareExternalUrl(path);\n        this.pushHistory(path, query, state);\n        const locationState = this._history[this._historyIndex - 1];\n        if (locationState.path == path && locationState.query == query) {\n            return;\n        }\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.urlChanges.push(url);\n        this._notifyUrlChangeListeners(path + normalizeQueryParams(query), state);\n    }\n    replaceState(path, query = '', state = null) {\n        path = this.prepareExternalUrl(path);\n        const history = this._history[this._historyIndex];\n        if (history.path == path && history.query == query) {\n            return;\n        }\n        history.path = path;\n        history.query = query;\n        history.state = state;\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.urlChanges.push('replace: ' + url);\n        this._notifyUrlChangeListeners(path + normalizeQueryParams(query), state);\n    }\n    forward() {\n        if (this._historyIndex < (this._history.length - 1)) {\n            this._historyIndex++;\n            this._subject.emit({ 'url': this.path(), 'state': this.getState(), 'pop': true, 'type': 'popstate' });\n        }\n    }\n    back() {\n        if (this._historyIndex > 0) {\n            this._historyIndex--;\n            this._subject.emit({ 'url': this.path(), 'state': this.getState(), 'pop': true, 'type': 'popstate' });\n        }\n    }\n    historyGo(relativePosition = 0) {\n        const nextPageIndex = this._historyIndex + relativePosition;\n        if (nextPageIndex >= 0 && nextPageIndex < this._history.length) {\n            this._historyIndex = nextPageIndex;\n            this._subject.emit({ 'url': this.path(), 'state': this.getState(), 'pop': true, 'type': 'popstate' });\n        }\n    }\n    onUrlChange(fn) {\n        this._urlChangeListeners.push(fn);\n        if (!this._urlChangeSubscription) {\n            this._urlChangeSubscription = this.subscribe(v => {\n                this._notifyUrlChangeListeners(v.url, v.state);\n            });\n        }\n    }\n    /** @internal */\n    _notifyUrlChangeListeners(url = '', state) {\n        this._urlChangeListeners.forEach(fn => fn(url, state));\n    }\n    subscribe(onNext, onThrow, onReturn) {\n        return this._subject.subscribe({ next: onNext, error: onThrow, complete: onReturn });\n    }\n    normalize(url) {\n        return null;\n    }\n    pushHistory(path, query, state) {\n        if (this._historyIndex > 0) {\n            this._history.splice(this._historyIndex + 1);\n        }\n        this._history.push(new LocationState(path, query, state));\n        this._historyIndex = this._history.length - 1;\n    }\n}\nSpyLocation.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: SpyLocation, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nSpyLocation.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: SpyLocation });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: SpyLocation, decorators: [{\n            type: Injectable\n        }] });\nclass LocationState {\n    constructor(path, query, state) {\n        this.path = path;\n        this.query = query;\n        this.state = state;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A mock implementation of {@link LocationStrategy} that allows tests to fire simulated\n * location events.\n *\n * @publicApi\n */\nclass MockLocationStrategy extends LocationStrategy {\n    constructor() {\n        super();\n        this.internalBaseHref = '/';\n        this.internalPath = '/';\n        this.internalTitle = '';\n        this.urlChanges = [];\n        /** @internal */\n        this._subject = new EventEmitter();\n        this.stateChanges = [];\n    }\n    simulatePopState(url) {\n        this.internalPath = url;\n        this._subject.emit(new _MockPopStateEvent(this.path()));\n    }\n    path(includeHash = false) {\n        return this.internalPath;\n    }\n    prepareExternalUrl(internal) {\n        if (internal.startsWith('/') && this.internalBaseHref.endsWith('/')) {\n            return this.internalBaseHref + internal.substring(1);\n        }\n        return this.internalBaseHref + internal;\n    }\n    pushState(ctx, title, path, query) {\n        // Add state change to changes array\n        this.stateChanges.push(ctx);\n        this.internalTitle = title;\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.internalPath = url;\n        const externalUrl = this.prepareExternalUrl(url);\n        this.urlChanges.push(externalUrl);\n    }\n    replaceState(ctx, title, path, query) {\n        // Reset the last index of stateChanges to the ctx (state) object\n        this.stateChanges[(this.stateChanges.length || 1) - 1] = ctx;\n        this.internalTitle = title;\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.internalPath = url;\n        const externalUrl = this.prepareExternalUrl(url);\n        this.urlChanges.push('replace: ' + externalUrl);\n    }\n    onPopState(fn) {\n        this._subject.subscribe({ next: fn });\n    }\n    getBaseHref() {\n        return this.internalBaseHref;\n    }\n    back() {\n        if (this.urlChanges.length > 0) {\n            this.urlChanges.pop();\n            this.stateChanges.pop();\n            const nextUrl = this.urlChanges.length > 0 ? this.urlChanges[this.urlChanges.length - 1] : '';\n            this.simulatePopState(nextUrl);\n        }\n    }\n    forward() {\n        throw 'not implemented';\n    }\n    getState() {\n        return this.stateChanges[(this.stateChanges.length || 1) - 1];\n    }\n}\nMockLocationStrategy.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: MockLocationStrategy, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nMockLocationStrategy.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: MockLocationStrategy });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: MockLocationStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return []; } });\nclass _MockPopStateEvent {\n    constructor(newUrl) {\n        this.newUrl = newUrl;\n        this.pop = true;\n        this.type = 'popstate';\n    }\n}\n\n/**\n * Parser from https://tools.ietf.org/html/rfc3986#appendix-B\n * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n *  12            3  4          5       6  7        8 9\n *\n * Example: http://www.ics.uci.edu/pub/ietf/uri/#Related\n *\n * Results in:\n *\n * $1 = http:\n * $2 = http\n * $3 = //www.ics.uci.edu\n * $4 = www.ics.uci.edu\n * $5 = /pub/ietf/uri/\n * $6 = <undefined>\n * $7 = <undefined>\n * $8 = #Related\n * $9 = Related\n */\nconst urlParse = /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\nfunction parseUrl(urlStr, baseHref) {\n    const verifyProtocol = /^((http[s]?|ftp):\\/\\/)/;\n    let serverBase;\n    // URL class requires full URL. If the URL string doesn't start with protocol, we need to add\n    // an arbitrary base URL which can be removed afterward.\n    if (!verifyProtocol.test(urlStr)) {\n        serverBase = 'http://empty.com/';\n    }\n    let parsedUrl;\n    try {\n        parsedUrl = new URL(urlStr, serverBase);\n    }\n    catch (e) {\n        const result = urlParse.exec(serverBase || '' + urlStr);\n        if (!result) {\n            throw new Error(`Invalid URL: ${urlStr} with base: ${baseHref}`);\n        }\n        const hostSplit = result[4].split(':');\n        parsedUrl = {\n            protocol: result[1],\n            hostname: hostSplit[0],\n            port: hostSplit[1] || '',\n            pathname: result[5],\n            search: result[6],\n            hash: result[8],\n        };\n    }\n    if (parsedUrl.pathname && parsedUrl.pathname.indexOf(baseHref) === 0) {\n        parsedUrl.pathname = parsedUrl.pathname.substring(baseHref.length);\n    }\n    return {\n        hostname: !serverBase && parsedUrl.hostname || '',\n        protocol: !serverBase && parsedUrl.protocol || '',\n        port: !serverBase && parsedUrl.port || '',\n        pathname: parsedUrl.pathname || '/',\n        search: parsedUrl.search || '',\n        hash: parsedUrl.hash || '',\n    };\n}\n/**\n * Provider for mock platform location config\n *\n * @publicApi\n */\nconst MOCK_PLATFORM_LOCATION_CONFIG = new InjectionToken('MOCK_PLATFORM_LOCATION_CONFIG');\n/**\n * Mock implementation of URL state.\n *\n * @publicApi\n */\nclass MockPlatformLocation {\n    constructor(config) {\n        this.baseHref = '';\n        this.hashUpdate = new Subject();\n        this.urlChangeIndex = 0;\n        this.urlChanges = [{ hostname: '', protocol: '', port: '', pathname: '/', search: '', hash: '', state: null }];\n        if (config) {\n            this.baseHref = config.appBaseHref || '';\n            const parsedChanges = this.parseChanges(null, config.startUrl || 'http://_empty_/', this.baseHref);\n            this.urlChanges[0] = Object.assign({}, parsedChanges);\n        }\n    }\n    get hostname() {\n        return this.urlChanges[this.urlChangeIndex].hostname;\n    }\n    get protocol() {\n        return this.urlChanges[this.urlChangeIndex].protocol;\n    }\n    get port() {\n        return this.urlChanges[this.urlChangeIndex].port;\n    }\n    get pathname() {\n        return this.urlChanges[this.urlChangeIndex].pathname;\n    }\n    get search() {\n        return this.urlChanges[this.urlChangeIndex].search;\n    }\n    get hash() {\n        return this.urlChanges[this.urlChangeIndex].hash;\n    }\n    get state() {\n        return this.urlChanges[this.urlChangeIndex].state;\n    }\n    getBaseHrefFromDOM() {\n        return this.baseHref;\n    }\n    onPopState(fn) {\n        // No-op: a state stack is not implemented, so\n        // no events will ever come.\n        return () => { };\n    }\n    onHashChange(fn) {\n        const subscription = this.hashUpdate.subscribe(fn);\n        return () => subscription.unsubscribe();\n    }\n    get href() {\n        let url = `${this.protocol}//${this.hostname}${this.port ? ':' + this.port : ''}`;\n        url += `${this.pathname === '/' ? '' : this.pathname}${this.search}${this.hash}`;\n        return url;\n    }\n    get url() {\n        return `${this.pathname}${this.search}${this.hash}`;\n    }\n    parseChanges(state, url, baseHref = '') {\n        // When the `history.state` value is stored, it is always copied.\n        state = JSON.parse(JSON.stringify(state));\n        return Object.assign(Object.assign({}, parseUrl(url, baseHref)), { state });\n    }\n    replaceState(state, title, newUrl) {\n        const { pathname, search, state: parsedState, hash } = this.parseChanges(state, newUrl);\n        this.urlChanges[this.urlChangeIndex] = Object.assign(Object.assign({}, this.urlChanges[this.urlChangeIndex]), { pathname, search, hash, state: parsedState });\n    }\n    pushState(state, title, newUrl) {\n        const { pathname, search, state: parsedState, hash } = this.parseChanges(state, newUrl);\n        if (this.urlChangeIndex > 0) {\n            this.urlChanges.splice(this.urlChangeIndex + 1);\n        }\n        this.urlChanges.push(Object.assign(Object.assign({}, this.urlChanges[this.urlChangeIndex]), { pathname, search, hash, state: parsedState }));\n        this.urlChangeIndex = this.urlChanges.length - 1;\n    }\n    forward() {\n        const oldUrl = this.url;\n        const oldHash = this.hash;\n        if (this.urlChangeIndex < this.urlChanges.length) {\n            this.urlChangeIndex++;\n        }\n        this.scheduleHashUpdate(oldHash, oldUrl);\n    }\n    back() {\n        const oldUrl = this.url;\n        const oldHash = this.hash;\n        if (this.urlChangeIndex > 0) {\n            this.urlChangeIndex--;\n        }\n        this.scheduleHashUpdate(oldHash, oldUrl);\n    }\n    historyGo(relativePosition = 0) {\n        const oldUrl = this.url;\n        const oldHash = this.hash;\n        const nextPageIndex = this.urlChangeIndex + relativePosition;\n        if (nextPageIndex >= 0 && nextPageIndex < this.urlChanges.length) {\n            this.urlChangeIndex = nextPageIndex;\n        }\n        this.scheduleHashUpdate(oldHash, oldUrl);\n    }\n    getState() {\n        return this.state;\n    }\n    scheduleHashUpdate(oldHash, oldUrl) {\n        if (oldHash !== this.hash) {\n            scheduleMicroTask(() => this.hashUpdate.next({ type: 'hashchange', state: null, oldUrl, newUrl: this.url }));\n        }\n    }\n}\nMockPlatformLocation.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: MockPlatformLocation, deps: [{ token: MOCK_PLATFORM_LOCATION_CONFIG, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nMockPlatformLocation.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: MockPlatformLocation });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.4.0\", ngImport: i0, type: MockPlatformLocation, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [MOCK_PLATFORM_LOCATION_CONFIG]\n                    }, {\n                        type: Optional\n                    }] }];\n    } });\nfunction scheduleMicroTask(cb) {\n    Promise.resolve(null).then(cb);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MOCK_PLATFORM_LOCATION_CONFIG, MockLocationStrategy, MockPlatformLocation, SpyLocation };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}